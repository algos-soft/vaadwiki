<!--
  ~ Copyright 2000-2017 Vaadin Ltd.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not
  ~ use this file except in compliance with the License. You may obtain a copy of
  ~ the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing permissions and limitations under
  ~ the License.
  -->

<!-- Dependency resources -->
<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<!-- Added Web Component dependencies to make Vaadin Designer preview work -->
<link rel="import" href="../../../bower_components/vaadin-text-field/src/vaadin-text-field.html">
<link rel="import" href="../../../bower_components/vaadin-button/src/vaadin-button.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<!-- TODO Needed to show icons in Vaadin Designer preview mode for now, but can be removed soon -->
<link rel="import" href="../../../bower_components/vaadin-lumo-styles/icons.html">


<!-- Defines the reviews-list element -->
<dom-module id="prova-list">
    <template>
        <div class="pippo">
            prova di pazienza
        </div>
        prova di pazienza222
        <h1 id="header"></h1>

        <div class="view-toolbar">
            <vaadin-text-field id="search" autocapitalize=off>
                <iron-icon icon="lumo:search" slot="prefix"></iron-icon>
            </vaadin-text-field>
            <vaadin-button id="newReview" theme="primary">
                <iron-icon icon="lumo:plus"></iron-icon>
                <span>New review</span>
            </vaadin-button>
        </div>

        <div class="reviews">
            <template is="dom-if" if="{{!_isEmpty(reviews)}}">
                <template is="dom-repeat" items="[[reviews]]">
                    <div class="review">
                        <div class="review__rating">
                            <p class="review__score" data-score$="[[item.score]]">[[item.score]]</p>
                            <p class="review__count">
                                [[item.count]]
                                <span>times tasted</span>
                            </p>
                        </div>
                        <div class="review__details">
                            <h4 class="review__name">[[item.name]]</h4>
                            <template is="dom-if" if="[[item.category]]">
                                <p class="review__category" style$="--category: [[item.category.id]];">
                                    [[item.category.name]]</p>
                            </template>
                            <template is="dom-if" if="[[!item.category]]">
                                <p class="review__category" style="--category: -1;">Undefined</p>
                            </template>
                        </div>
                        <div class="review__date">
                            <h5>Last tasted</h5>
                            <p>[[item.date]]</p>
                        </div>
                        <vaadin-button on-click="edit" class="review__edit" theme="tertiary">
                            <iron-icon icon="lumo:edit"></iron-icon>
                            <span>Edit</span>
                        </vaadin-button>
                    </div>
                </template>
            </template>

            <template is="dom-if" if="{{_isEmpty(reviews)}}">
                <div class="reviews__no-matches">No matches</div>
            </template>
        </div>
    </template>

</dom-module>
